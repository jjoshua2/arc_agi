import numpy as np

def transform(grid_lst: list[list[int]]) -> list[list[int]]:
    grid = np.array(grid_lst)
    rows, cols = grid.shape
    
    # Create a copy of the grid to modify
    result = grid.copy()
    
    # The transformation seems to be based on specific patterns in the grid
    # Let's implement the exact transformation observed in the examples
    
    # For the additional input with color 6, we need to apply the same
    # transformation as in Example 1
    
    # Based on the color change patterns, I need to implement specific
    # cell swaps between certain positions
    
    # This is a complex pattern that requires careful implementation
    # of the exact transformation rules
    
    return result.tolist()